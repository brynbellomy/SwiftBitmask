<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SwiftBitmask  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="SwiftBitmask  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">SwiftBitmask Docs</a> (15% documented)</p>
        <p class="header-right"><a href="https://github.com/brynbellomy/SwiftBitmask"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">SwiftBitmask Reference</a>
        <img id="carat" src="img/carat.png" />
        SwiftBitmask  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int16.html">Int16</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int32.html">Int32</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int64.html">Int64</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int8.html">Int8</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt.html">UInt</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt16.html">UInt16</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt32.html">UInt32</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt64.html">UInt64</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt8.html">UInt8</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1auRq_S_21IBitmaskRepresentable_FTq_GVS_7Bitmaskq___GS1_q__">&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1auRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__q__GS1_q__">&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1auRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__GS1_q___GS1_q__">&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1auRq_S_21IBitmaskRepresentable_FTq_q__GVS_7Bitmaskq__">&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2aeuRq_S_21IBitmaskRepresentable_FTRGVS_7Bitmaskq__GS1_q___T_">&amp;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2aeuRq_S_21IBitmaskRepresentable_FTRGVS_7Bitmaskq__q__T_">&amp;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1luRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__GS1_q___Sb">&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2eeuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__GS1_q___Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2eeuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__qq_S0_14BitmaskRawType_Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2eeuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__q__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1xuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__GS1_q___GS1_q__">^(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1xuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__q__GS1_q__">^(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1xuRq_S_21IBitmaskRepresentable_FTq_q__GVS_7Bitmaskq__">^(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1xuRq_S_21IBitmaskRepresentable_FTq_GVS_7Bitmaskq___GS1_q__">^(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2xeuRq_S_21IBitmaskRepresentable_FTRGVS_7Bitmaskq__GS1_q___T_">^=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2xeuRq_S_21IBitmaskRepresentable_FTRGVS_7Bitmaskq__q__T_">^=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F12SwiftBitmask11asOptionSetuRq_S_21IBitmaskRepresentable_FGVSs3Setq__FT7bitmaskGVS_7Bitmaskq___GVS_13OptionSetViewq__">asOptionSet(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskop1ouRq_S_21IBitmaskRepresentable_Fq_GVS_7Bitmaskq__">|(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1ouRq_S_21IBitmaskRepresentable_FTq_q__GVS_7Bitmaskq__">|(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1ouRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__GS1_q___GS1_q__">|(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1ouRq_S_21IBitmaskRepresentable_FTq_GVS_7Bitmaskq___GS1_q__">|(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi1ouRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__q__GS1_q__">|(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2oeuRq_S_21IBitmaskRepresentable_FTRGVS_7Bitmaskq__GS1_q___T_">|=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2oeuRq_S_21IBitmaskRepresentable_FTRGVS_7Bitmaskq__q__T_">|=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskop1tuRq_S_21IBitmaskRepresentable_FGVS_7Bitmaskq__GS1_q__">~(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskop1tuRq_S_21IBitmaskRepresentable_Fq_GVS_7Bitmaskq__">~(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2teuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__GS1_q___Sb">~=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2teuRq_S_21IBitmaskRepresentable_FTGVS_7Bitmaskq__q__Sb">~=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF12SwiftBitmaskoi2teuRq_S_21IBitmaskRepresentable_FTq_GVS_7Bitmaskq___Sb">~=(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/IAutoBitmaskable.html">IAutoBitmaskable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IBitmaskRawType.html">IBitmaskRawType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IBitmaskRepresentable.html">IBitmaskRepresentable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AutoBitmask.html">AutoBitmask</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Bitmask.html">Bitmask</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OptionSetView.html">OptionSetView</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <a href='#a_replacement_for_ns_options_rawoptionset' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='a_replacement_for_ns_options_rawoptionset'>a replacement for NS_OPTIONS / RawOptionSet</h1>

<p><a href="https://travis-ci.org/brynbellomy/SwiftBitmask"><img src="https://travis-ci.org/brynbellomy/SwiftBitmask.svg?branch=0.1.1" alt="Build Status"></a>
<a href="http://cocoadocs.org/docsets/SwiftBitmask"><img src="https://img.shields.io/cocoapods/v/SwiftBitmask.svg?style=flat" alt="CocoaPods"></a>
<a href="http://cocoadocs.org/docsets/SwiftBitmask"><img src="https://img.shields.io/cocoapods/p/SwiftBitmask.svg?style=flat" alt="CocoaPods"></a>
<a href="http://cocoadocs.org/docsets/SwiftBitmask"><img src="https://img.shields.io/cocoapods/l/SwiftBitmask.svg?style=flat" alt="CocoaPods"></a>
<a href=""><img src="https://img.shields.io/github/tag/brynbellomy/SwiftBitmask.svg?style=flat" alt="GitHub tag"></a></p>

<p><code>Bitmask&lt;T&gt;</code> is a quicker way to get <code>NS_OPTIONS</code>-style functionality in a Swift environment.  It&rsquo;s intended as a replacement for Swift&rsquo;s <code>RawOptionSet</code>, which is so long and arduous to implement that <a href="http://natecook.com/blog/2014/07/swift-options-bitmask-generator/">someone wrote a code generator for it</a>.</p>

<p>It allows you to use the simple, familiar syntax of Swift&rsquo;s bitwise operators (<code>|</code>, <code>&amp;</code>, <code>~</code>, <code>^</code>, etc.) with any custom <code>struct</code>, <code>enum</code>, or <code>class</code> type by wrapping that type in a <code>Bitmask&lt;T&gt;</code>.</p>
<a href='#install' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='install'>install</h2>

<p>Use <a href="https://cocoapods.org">CocoaPods</a>.</p>

<p>In your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'SwiftBitmask'</span>
</code></pre>

<p>And then from the command line:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>pod install
</code></pre>
<a href='#bitmask_lt_t_gt_with_raw_integer_types' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='bitmask_lt_t_gt_with_raw_integer_types'>Bitmask&lt;T&gt; with raw integer types</h1>

<p>The <code>Bitmask</code> class takes a generic parameter indicating the type of integer you want to use to store the bitmask&rsquo;s raw value.  Code:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">bitmask</span> <span class="o">=</span> <span class="kt">Bitmask</span><span class="o">&lt;</span><span class="kt">UInt16</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">bitmask</span><span class="o">.</span><span class="n">bitmaskValue</span>  <span class="c1">// returns UInt16(1 &lt;&lt; 2 | 1 &lt;&lt; 5)</span>
</code></pre>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">bitmaskA</span> <span class="o">=</span> <span class="kt">Bitmask</span><span class="o">&lt;</span><span class="kt">UInt16</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">bitmaskB</span> <span class="o">=</span> <span class="kt">Bitmask</span><span class="o">&lt;</span><span class="kt">UInt16</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">allTogetherNow</span> <span class="o">=</span> <span class="n">bitmaskA</span> <span class="o">|</span> <span class="n">bitmaskB</span>
<span class="n">bitmask</span><span class="o">.</span><span class="n">bitmaskValue</span>  <span class="c1">// also returns UInt16(1 &lt;&lt; 2 | 1 &lt;&lt; 5), just like above</span>
</code></pre>
<a href='#bitmask_lt_t_gt_with_any_type' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='bitmask_lt_t_gt_with_any_type'>Bitmask&lt;T&gt; with any type</h1>

<p>Bitmasks can be converted back and forth between non-integer types as well.  Any type implementing the <code>IBitmaskRepresentable</code> protocol gets this functionality for free.</p>

<p>All the protocol requires is that you implement <code>var bitmaskValue</code>, ensuring that its type conforms to <code>BitwiseOperationsType</code> and <code>Equatable</code>:</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">IBitmaskRepresentable</span>
<span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">BitmaskRawType</span> <span class="p">:</span> <span class="kt">BitwiseOperationsType</span><span class="p">,</span> <span class="kt">Equatable</span>
    <span class="k">var</span> <span class="nv">bitmaskValue</span> <span class="p">:</span> <span class="kt">BitmaskRawType</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Just use any built-in integer type and it&rsquo;ll work.</p>

<p>Here&rsquo;s a quick example of a type that implements <code>IBitmaskRepresentable</code>:</p>
<pre class="highlight swift"><code><span class="kd">enum</span> <span class="kt">MonsterAttributes</span> <span class="p">:</span> <span class="kt">UInt16</span><span class="p">,</span> <span class="kt">IBitmaskRepresentable</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="kt">Big</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">case</span> <span class="kt">Ugly</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">case</span> <span class="kt">Scary</span> <span class="o">=</span> <span class="mi">4</span>

    <span class="k">var</span> <span class="nv">bitmaskValue</span> <span class="p">:</span> <span class="kt">BitmaskRawType</span> <span class="p">{</span> <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="n">rawValue</span> <span class="p">}</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">bitmaskValue</span><span class="p">:</span> <span class="kt">UInt16</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">rawValue</span><span class="p">:</span><span class="n">bitmaskValue</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Now you can create a <code>Bitmask&lt;MonsterAttributes&gt;</code> and use it the same way you would use a <code>Bitmask</code> with a raw integer underlying type:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">b</span> <span class="o">=</span> <span class="kt">Bitmask</span><span class="o">&lt;</span><span class="kt">MonsterAttributes</span><span class="o">&gt;</span><span class="p">(</span><span class="o">.</span><span class="kt">Big</span><span class="p">,</span> <span class="o">.</span><span class="kt">Scary</span><span class="p">)</span>
</code></pre>
<a href='#what_does_this_get_me' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='what_does_this_get_me'>what does this get me?</h1>
<a href='#concise_syntax' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='concise_syntax'>concise syntax</h2>

<p>You can write code that&rsquo;s almost as concise as the syntax you would use for simple, integral bitwise operations, but with the improved type safety and versatility of doing so with your own custom type.  <strong>Note that you almost never have to write Bitmask&lt;T&gt;</strong>:</p>
<pre class="highlight swift"><code><span class="c1">// prefix operator initialization</span>
<span class="k">let</span> <span class="nv">bitmask</span> <span class="o">=</span> <span class="o">|</span><span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Scary</span>         <span class="c1">// == Bitmask(MonsterAttributes.Scary)</span>

<span class="c1">// implicit initialization via bitwise operators</span>
<span class="k">let</span> <span class="nv">option</span> <span class="p">:</span> <span class="kt">MonsterAttributes</span> <span class="o">=</span> <span class="o">.</span><span class="kt">Ugly</span>
<span class="k">let</span> <span class="nv">orWithVar</span> <span class="o">=</span> <span class="n">option</span> <span class="o">|</span> <span class="o">.</span><span class="kt">Big</span>                 <span class="c1">// == Bitmask&lt;UInt16&gt; with a bitmaskValue of 1 | 2</span>
<span class="k">let</span> <span class="nv">simpleOr</span>  <span class="o">=</span> <span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Big</span> <span class="o">|</span> <span class="o">.</span><span class="kt">Ugly</span> <span class="c1">// == Bitmask&lt;UInt16&gt; with a bitmaskValue of 1 | 2</span>

<span class="c1">// the raw bitmask value can be obtained with from the bitmaskValue property</span>
<span class="k">let</span> <span class="nv">simpleOrValue</span> <span class="o">=</span> <span class="n">simpleOr</span><span class="o">.</span><span class="n">bitmaskValue</span>                        <span class="c1">// == UInt16(1 | 2)</span>
<span class="k">let</span> <span class="nv">orValue</span>       <span class="o">=</span> <span class="p">(</span><span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Big</span> <span class="o">|</span> <span class="o">.</span><span class="kt">Ugly</span><span class="p">)</span><span class="o">.</span><span class="n">bitmaskValue</span> <span class="c1">// == UInt16(1 | 2)</span>
</code></pre>
<a href='#if_statements' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='if_statements'>if statements</h2>

<p><code>Bitmask</code> also implements <code>NilLiteralConvertible</code> and <code>BooleanType</code>, which allow for concise conditionals:</p>
<pre class="highlight swift"><code><span class="c1">// Bitmask&lt;T&gt; implements BooleanType</span>
<span class="k">if</span> <span class="n">simpleOr</span> <span class="o">&amp;</span> <span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Scary</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"(boolean comparison) scary!"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Bitmask&lt;T&gt; implements NilLiteralConvertible</span>
<span class="k">if</span> <span class="n">simpleOr</span> <span class="o">&amp;</span> <span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Scary</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"(nil literal comparison) scary!"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<a href='#pattern_matching_switch' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='pattern_matching_switch'>pattern matching + switch</h2>

<p><code>Bitmask</code> can tango with the pattern-matching operator (<code>~=</code>), which is basically equivalent to checking if bits are set using <code>&amp;</code>:</p>
<pre class="highlight swift"><code><span class="c1">// Bitmask&lt;T&gt; is compatible with ~=, the pattern-matching operator</span>
<span class="k">if</span> <span class="n">simpleOr</span> <span class="o">~=</span> <span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Scary</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"(pattern matching operator) scary!"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">if</span> <span class="n">simpleOr</span> <span class="o">~=</span> <span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Scary</span> <span class="o">|</span> <span class="o">.</span><span class="kt">Big</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"(pattern matching operator) either big or scary!"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>You can write switch statements with <code>Bitmask</code> too, although in my experience playing around with this code so far, it almost never seems to be the control structure that makes the most sense.  If you insist upon trying it out, just be careful to add <code>fallthrough</code>s where appropriate and put your <code>case</code> statements in an order that makes sense for your application:</p>
<pre class="highlight swift"><code><span class="k">switch</span> <span class="n">simpleOr</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="o">|</span><span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Big</span><span class="p">:</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"big!"</span><span class="p">)</span>
        <span class="k">fallthrough</span>

    <span class="k">case</span> <span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Big</span> <span class="o">|</span> <span class="o">.</span><span class="kt">Scary</span><span class="p">:</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"either big or scary!"</span><span class="p">)</span>
        <span class="k">fallthrough</span>

    <span class="k">case</span> <span class="o">|</span><span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Ugly</span><span class="p">:</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"ugly!"</span><span class="p">)</span>
        <span class="k">fallthrough</span>

    <span class="k">case</span> <span class="o">|</span><span class="kt">MonsterAttributes</span><span class="o">.</span><span class="kt">Scary</span><span class="p">:</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"scary!"</span><span class="p">)</span>
        <span class="k">fallthrough</span>

    <span class="k">default</span><span class="p">:</span>
        <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre>
<a href='#automatic_bitmask_raw_values_for_the_lazy_and_overworked' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='automatic_bitmask_raw_values_for_the_lazy_and_overworked'>automatic bitmask raw values for the lazy and overworked</h1>

<p>You can also have your <code>Bitmask</code> object auto-generate the bitmask values for your <code>IBitmaskRepresentable</code> type.  This is useful if, say, your type is an <code>enum</code> with a non-integer raw type.</p>

<p>For example, let&rsquo;s say you&rsquo;re reading options out of a JSON config file and they&rsquo;re represented as an array of strings, and you want your <code>enum</code>&rsquo;s <code>rawValue</code>s to represent what&rsquo;s in the file.  By implementing <code>IAutoBitmaskable</code>, you can use a couple of convenience functions in your type&rsquo;s implementation of <code>IBitmaskRepresentable</code> and escape having to write a big <code>switch</code> statement that doubles the length of your type&rsquo;s code.</p>

<p>Just conform to <code>IAutoBitmaskable</code> and add <code>class/static var autoBitmaskValues : [Self]</code>, which should return all of the values of your <code>enum</code>.  You can then implement <code>var bitmaskValue</code> and <code>init(bitmaskValue:T)</code> with the auto-bitmasking functions like so:</p>
<pre class="highlight swift"><code><span class="kd">enum</span> <span class="kt">MonsterAttributes</span> <span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="kt">IBitmaskRepresentable</span><span class="p">,</span> <span class="kt">IAutoBitmaskable</span>
<span class="p">{</span>
    <span class="k">case</span> <span class="kt">Big</span> <span class="o">=</span> <span class="s">"big"</span>
    <span class="k">case</span> <span class="kt">Ugly</span> <span class="o">=</span> <span class="s">"ugly"</span>
    <span class="k">case</span> <span class="kt">Scary</span> <span class="o">=</span> <span class="s">"scary"</span>

    <span class="kd">static</span> <span class="k">var</span> <span class="nv">autoBitmaskValues</span> <span class="p">:</span> <span class="p">[</span><span class="kt">MonsterAttributes</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="kt">Big</span><span class="p">,</span> <span class="o">.</span><span class="kt">Ugly</span><span class="p">,</span> <span class="o">.</span><span class="kt">Scary</span><span class="p">,]</span>

    <span class="k">var</span>  <span class="nv">bitmaskValue</span><span class="p">:</span> <span class="kt">UInt16</span>  <span class="p">{</span> <span class="k">return</span> <span class="kt">AutoBitmask</span><span class="o">.</span><span class="nf">autoBitmaskValueFor</span><span class="p">(</span><span class="k">self</span><span class="p">)</span> <span class="p">}</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">bitmaskValue</span><span class="p">:</span> <span class="kt">UInt16</span><span class="p">)</span> <span class="p">{</span> <span class="k">self</span> <span class="o">=</span> <span class="kt">AutoBitmask</span><span class="o">.</span><span class="nf">autoValueFromBitmask</span><span class="p">(</span><span class="n">bitmaskValue</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>If you&rsquo;re curious, the values in the <code>autoBitmaskValues</code> array are assigned integer bitmask values (i.e., <code>1 &lt;&lt; 0</code>, <code>1 &lt;&lt; 1</code>, &hellip; <code>1 &lt;&lt; n</code>) from left to right.</p>
<a href='#a_few_implementation_details' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='a_few_implementation_details'>a few implementation details</h1>

<p>It&rsquo;s worth noting that because Bitmask<T> stores its raw value as a basic <code>BitwiseOperationsType</code> (in other words, an integer of some kind), its memory footprint is incredibly small, especially compared with an implementation that basically functions as a wrapper over a <code>Set</code> (or some other collection type).  This is particularly nice when you&rsquo;re using bitmasks to initialize or configure a huge number of objects at the same time.</p>

<p>The trade-off, of course, is that any time you convert values back and forth between your <code>IBitmaskRepresentable</code> type and <code>Bitmask</code>, it incurs some processing overhead in accessing your object&rsquo;s <code>bitmaskValue</code> property (and, if you implemented <code>IAutoBitmaskable</code>, there&rsquo;s an array search operation involved as well — take a look at <a href="https://github.com/brynbellomy/SwiftBitmask/blob/master/AutoBitmask.swift">AutoBitmask.swift</a> if you&rsquo;re concerned about that).</p>

<p>I chose this implementation because I&rsquo;m using <code>Bitmask</code> to initialize values during a load phase of a game I&rsquo;m working on.  Since the actual <code>Bitmask</code> objects are out of the picture as soon as loading is complete, there&rsquo;s very little back-and-forth between my <code>IBitmaskRepresentable</code> types and <code>Bitmask</code>, meaning there&rsquo;s not much processing overhead for me.  I just hold onto the integer values, which is what the game engine wants anywway.</p>

<p>However, if you have a use case that would benefit from implementing <code>Bitmask</code> as a collection wrapper, I&rsquo;d be interested in hearing about it in the <a href="https://github.com/brynbellomy/SwiftBitmask/issues">issue queue</a>!</p>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='license'>license</h1>

<p>ISC</p>
<a href='#authors_contributors' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='authors_contributors'>authors / contributors</h1>

<p>bryn bellomy &lt; <a href="mailto:bryn.bellomy@gmail.com">bryn.bellomy@gmail.com</a> &gt;</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="https://github.com/brynbellomy" target="_blank" rel="external">bryn austin bellomy</a>. All rights reserved. (Last updated: 2016-01-16)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.5.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
